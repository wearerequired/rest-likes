this.RestLikes=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){var r;!function(){"use strict";var o={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function i(t){return function(t,e){var n,r,a,s,c,u,l,p,f,d=1,y=t.length,v="";for(r=0;r<y;r++)if("string"==typeof t[r])v+=t[r];else if("object"==typeof t[r]){if((s=t[r]).keys)for(n=e[d],a=0;a<s.keys.length;a++){if(null==n)throw new Error(i('[sprintf] Cannot access property "%s" of undefined value "%s"',s.keys[a],s.keys[a-1]));n=n[s.keys[a]]}else n=s.param_no?e[s.param_no]:e[d++];if(o.not_type.test(s.type)&&o.not_primitive.test(s.type)&&n instanceof Function&&(n=n()),o.numeric_arg.test(s.type)&&"number"!=typeof n&&isNaN(n))throw new TypeError(i("[sprintf] expecting number but found %T",n));switch(o.number.test(s.type)&&(p=n>=0),s.type){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,s.width?parseInt(s.width):0);break;case"e":n=s.precision?parseFloat(n).toExponential(s.precision):parseFloat(n).toExponential();break;case"f":n=s.precision?parseFloat(n).toFixed(s.precision):parseFloat(n);break;case"g":n=s.precision?String(Number(n.toPrecision(s.precision))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=s.precision?n.substring(0,s.precision):n;break;case"t":n=String(!!n),n=s.precision?n.substring(0,s.precision):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=s.precision?n.substring(0,s.precision):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=s.precision?n.substring(0,s.precision):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}o.json.test(s.type)?v+=n:(!o.number.test(s.type)||p&&!s.sign?f="":(f=p?"+":"-",n=n.toString().replace(o.sign,"")),u=s.pad_char?"0"===s.pad_char?"0":s.pad_char.charAt(1):" ",l=s.width-(f+n).length,c=s.width&&l>0?u.repeat(l):"",v+=s.align?f+n+c:"0"===u?f+c+n:c+f+n)}return v}(function(t){if(s[t])return s[t];var e,n=t,r=[],i=0;for(;n;){if(null!==(e=o.text.exec(n)))r.push(e[0]);else if(null!==(e=o.modulo.exec(n)))r.push("%");else{if(null===(e=o.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(e[2]){i|=1;var a=[],c=e[2],u=[];if(null===(u=o.key.exec(c)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(a.push(u[1]);""!==(c=c.substring(u[0].length));)if(null!==(u=o.key_access.exec(c)))a.push(u[1]);else{if(null===(u=o.index_access.exec(c)))throw new SyntaxError("[sprintf] failed to parse named argument key");a.push(u[1])}e[2]=a}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push({placeholder:e[0],param_no:e[1],keys:e[2],sign:e[3],pad_char:e[4],align:e[5],width:e[6],precision:e[7],type:e[8]})}n=n.substring(e[0].length)}return s[t]=r}(t),arguments)}function a(t,e){return i.apply(null,[t].concat(e||[]))}var s=Object.create(null);e.sprintf=i,e.vsprintf=a,"undefined"!=typeof window&&(window.sprintf=i,window.vsprintf=a,void 0===(r=function(){return{sprintf:i,vsprintf:a}}.call(e,n,e,t))||(t.exports=r))}()},function(t,e){!function(){t.exports=this.jQuery}()},function(t,e,n){t.exports=function(t,e){var n,r,o,i=0;function a(){var e,a,s=r,c=arguments.length;t:for(;s;){if(s.args.length===arguments.length){for(a=0;a<c;a++)if(s.args[a]!==arguments[a]){s=s.next;continue t}return s!==r&&(s===o&&(o=s.prev),s.prev.next=s.next,s.next&&(s.next.prev=s.prev),s.next=r,s.prev=null,r.prev=s,r=s),s.val}s=s.next}for(e=new Array(c),a=0;a<c;a++)e[a]=arguments[a];return s={args:e,val:t.apply(null,e)},r?(r.prev=s,s.next=r):o=s,i===n?(o=o.prev).next=null:i++,r=s,s.val}return e&&e.maxSize&&(n=e.maxSize),a.clear=function(){r=null,o=null,i=0},a}},function(t,e,n){t.exports=n(4)},function(t,e,n){"use strict";n.r(e);var r=n(1),o=n.n(r),i=function(t){t=t||"polite";var e=document.createElement("div");return e.id="a11y-speak-"+t,e.className="a11y-speak-region",e.setAttribute("style","position: absolute;margin: -1px;padding: 0;height: 1px;width: 1px;overflow: hidden;clip: rect(1px, 1px, 1px, 1px);-webkit-clip-path: inset(50%);clip-path: inset(50%);border: 0;word-wrap: normal !important;"),e.setAttribute("aria-live",t),e.setAttribute("aria-relevant","additions text"),e.setAttribute("aria-atomic","true"),document.querySelector("body").appendChild(e),e},a=function(){for(var t=document.querySelectorAll(".a11y-speak-region"),e=0;e<t.length;e++)t[e].textContent=""},s="",c=function(t){return t=t.replace(/<[^<>]+>/g," "),s===t&&(t+="Â "),s=t,t};(function(t){if("complete"===document.readyState||"interactive"===document.readyState)return t();document.addEventListener("DOMContentLoaded",t)})((function(){var t=document.getElementById("a11y-speak-polite"),e=document.getElementById("a11y-speak-assertive");null===t&&(t=i("polite")),null===e&&(e=i("assertive"))}));var u,l,p,f,d=function(t,e){a(),t=c(t);var n=document.getElementById("a11y-speak-polite"),r=document.getElementById("a11y-speak-assertive");r&&"assertive"===e?r.textContent=t:n&&(n.textContent=t)};function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(Object(n));"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){y(t,e,n[e])}))}return t}u={"(":9,"!":8,"*":7,"/":7,"%":7,"+":6,"-":6,"<":5,"<=":5,">":5,">=":5,"==":4,"!=":4,"&&":3,"||":2,"?":1,"?:":1},l=["(","?"],p={")":["("],":":["?","?:"]},f=/<=|>=|==|!=|&&|\|\||\?:|\(|!|\*|\/|%|\+|-|<|>|\?|\)|:/;var b={"!":function(t){return!t},"*":function(t,e){return t*e},"/":function(t,e){return t/e},"%":function(t,e){return t%e},"+":function(t,e){return t+e},"-":function(t,e){return t-e},"<":function(t,e){return t<e},"<=":function(t,e){return t<=e},">":function(t,e){return t>e},">=":function(t,e){return t>=e},"==":function(t,e){return t===e},"!=":function(t,e){return t!==e},"&&":function(t,e){return t&&e},"||":function(t,e){return t||e},"?:":function(t,e,n){if(t)throw e;return n}};function h(t){var e=function(t){for(var e,n,r,o,i=[],a=[];e=t.match(f);){for(n=e[0],(r=t.substr(0,e.index).trim())&&i.push(r);o=a.pop();){if(p[n]){if(p[n][0]===o){n=p[n][1]||n;break}}else if(l.indexOf(o)>=0||u[o]<u[n]){a.push(o);break}i.push(o)}p[n]||a.push(n),t=t.substr(e.index+n.length)}return(t=t.trim())&&i.push(t),i.concat(a.reverse())}(t);return function(t){return function(t,e){var n,r,o,i,a,s,c=[];for(n=0;n<t.length;n++){if(a=t[n],i=b[a]){for(r=i.length,o=Array(r);r--;)o[r]=c.pop();try{s=i.apply(null,o)}catch(t){return t}}else s=e.hasOwnProperty(a)?e[a]:+a;c.push(s)}return c[0]}(e,t)}}var m={contextDelimiter:"",onMissingKey:null};function g(t,e){var n;for(n in this.data=t,this.pluralForms={},this.options={},m)this.options[n]=void 0!==e&&n in e?e[n]:m[n]}g.prototype.getPluralForm=function(t,e){var n,r,o,i,a=this.pluralForms[t];return a||("function"!=typeof(o=(n=this.data[t][""])["Plural-Forms"]||n["plural-forms"]||n.plural_forms)&&(r=function(t){var e,n,r;for(e=t.split(";"),n=0;n<e.length;n++)if(0===(r=e[n].trim()).indexOf("plural="))return r.substr(7)}(n["Plural-Forms"]||n["plural-forms"]||n.plural_forms),i=h(r),o=function(t){return+i({n:t})}),a=this.pluralForms[t]=o),a(e)},g.prototype.dcnpgettext=function(t,e,n,r,o){var i,a,s;return i=void 0===o?0:this.getPluralForm(t,o),a=n,e&&(a=e+this.options.contextDelimiter+n),(s=this.data[t][a])&&s[i]?s[i]:(this.options.onMissingKey&&this.options.onMissingKey(n,t),0===i?n:r)};var k,w,x,E=n(2),S=n.n(E),j=n(0),_=n.n(j),L={"":{plural_forms:function(t){return 1===t?0:1}}},O=S()(console.error),A=new g({});function I(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";A.data[e]=v({},L,A.data[e],t),A.data[e][""]=v({},L[""],A.data[e][""])}function T(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return A.data[t]||I(void 0,t),A.dcnpgettext(t,e,n,r,o)}function C(t,e){return T(e,void 0,t)}function F(t){try{for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return _.a.sprintf.apply(_.a,[t].concat(n))}catch(e){return O("sprintf error: \n\n"+e.toString()),t}}function P(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}I(restLikes.l10n,"rest-likes");try{x=new Date,(k=window.localStorage).setItem(x,x),w=k.getItem(x)!=x,k.removeItem(x),w&&(k=!1)}catch(t){}if("function"!=typeof window.CustomEvent){var q=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{bubbles:!1,cancelable:!1,detail:void 0},n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n};q.prototype=window.Event.prototype,window.CustomEvent=q}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);var N=window.RestLikesApi={},M=function(t){if(k){var e=k.getItem("rest-likes-".concat(t));if(e)return JSON.parse(e)}return[]},z=function(t,e){return-1!==M(t).indexOf(parseInt(e,10))},D=function(t){var e=t.getAttribute("data-id"),n=t.getAttribute("data-type"),r=restLikes.object_types[n],o=r.classnames;t.classList.contains(o.liked)||z(n,e)&&(t.classList.add(o.liked),t.querySelector(".".concat(o.label)).innerHTML=r.texts.unlike)};N.request=function(t,e,n){var r=restLikes.object_types[t];return fetch(restLikes.root+r.endpoint.replace("%s",e),{method:n?"DELETE":"POST",headers:restLikes.nonce&&{"X-WP-Nonce":restLikes.nonce},credentials:"include"})},N.buttonClickHandler=function(t,e){var n=document.querySelectorAll('[data-rest-like-button][data-type="'.concat(t,'"][data-id="').concat(e,'"]')),r=restLikes.object_types[t],o=r.classnames;n.forEach((function(t){t.classList.add(o.processing)}));var i=z(t,e);N.request(t,e,i).then((function(t){if(!t.ok)throw Error(t.statusText);return t.json()})).then((function(a){if(n.forEach((function(t){t.classList.remove(o.processing);var e=t.querySelector(".".concat(o.count));e.innerText=a.countFormatted,e.setAttribute("data-likes",a.count)})),i)return function(t,e){if(k){var n=M(t);n=n.filter((function(t){return t!==parseInt(e,10)})),n=P(new Set(n)),k.setItem("rest-likes-".concat(t),JSON.stringify(n))}}(t,e),n.forEach((function(t){t.classList.remove(o.liked),t.querySelector(".".concat(o.label)).innerHTML=r.texts.like})),d(F(C("Unlike processed. New like count: %d","rest-likes"),a.count)),void document.dispatchEvent(new CustomEvent("restLikes",{detail:{action:"unlike",count:a.count,countFormatted:a.countFormatted,objectType:t,objectId:e}}));i||(!function(t,e){if(k){var n=M(t);n&&(n.push(parseInt(e,10)),n=P(new Set(n)),k.setItem("rest-likes-".concat(t),JSON.stringify(n)))}}(t,e),n.forEach((function(t){t.classList.add(o.liked),t.querySelector(".".concat(o.label)).innerHTML=r.texts.unlike})),d(F(C("Like processed. New like count: %d","rest-likes"),a.count)),document.dispatchEvent(new CustomEvent("restLikes",{detail:{action:"like",count:a.count,countFormatted:a.countFormatted,objectType:t,objectId:e}})))})).catch((function(r){Array.prototype.forEach.call(n,(function(t){t.classList.remove(o.processing)})),console.log(r),d(C("There was an error processing your request.","rest-likes")),document.dispatchEvent(new CustomEvent("restLikes",{detail:{action:"error",objectType:t,objectId:e}}))}))};var H=o()(document);H.on("heartbeat-send",(function(t,e){e.rest_likes={},Object.keys(restLikes.object_types).forEach((function(t){var n=document.querySelectorAll('[data-rest-like-button][data-type="'.concat(t,'"]')),r=[];n.forEach((function(t){r.push(t.getAttribute("data-id"))})),e.rest_likes[t]=P(new Set(r))}))})),H.on("heartbeat-tick",(function(t,e){if(e.rest_likes){var n=!0,r=!1,o=void 0;try{for(var i,a=function(){var t=i.value,e=t.objectType,n=t.objectId,r=t.count,o=t.countFormatted,a=restLikes.object_types[e].classnames,s=document.querySelectorAll('[data-rest-like-button][data-type="'.concat(e,'"][data-id="').concat(n,'"]'));Array.prototype.forEach.call(s,(function(t){var e=t.querySelector(".".concat(a.count));e.innerText=o,e.setAttribute("data-likes",r)}))},s=e.rest_likes[Symbol.iterator]();!(n=(i=s.next()).done);n=!0)a()}catch(t){r=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}}}));(document.dispatchEvent(new CustomEvent("restLikes.initialized",{detail:{api:N}})),document.querySelectorAll("[data-rest-like-button]").forEach((function(t){return D(t)})),void 0!==window.MutationObserver)&&new window.MutationObserver((function(t){t.forEach((function(t){t.addedNodes.length&&t.addedNodes.forEach((function(t){if("function"==typeof t.querySelectorAll){var e=t.querySelectorAll("[data-rest-like-button]");e.length&&e.forEach((function(t){return D(t)}))}}))}))})).observe(document.body,{childList:!0,subtree:!0});document.body.addEventListener("click",(function(t){var e=t.target.closest("[data-rest-like-button]");e&&N.buttonClickHandler(e.getAttribute("data-type"),e.getAttribute("data-id"),e)}))}]);